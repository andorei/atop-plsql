create sequence at_ida_seq;

create table at_ida (
    iload number(9) primary key,
    idate timestamp default current_timestamp not null,
    istat number(1) default 0 not null,
    iuser varchar2(30) not null,
    ifile varchar2(256),
    entity varchar2(50) not null,
    iretm varchar2(4000),
	arg1 varchar2(4000),
	arg2 varchar2(4000),
	arg3 varchar2(4000),
	arg4 varchar2(4000),
	arg5 varchar2(4000)
);
comment on table at_ida is 'General-purpose interface table, header';
comment on column at_ida.iload is 'Load id';
comment on column at_ida.idate is 'Load timestamp';
comment on column at_ida.istat is 'Load status: 0 - pending, 1 - processed, 2 - error';
comment on column at_ida.iuser is 'Who loaded';
comment on column at_ida.ifile is 'Data source name';
comment on column at_ida.entity is 'Logical entity';
comment on column at_ida.iretm is 'Return message';
comment on column at_ida.arg1 is 'Load argument 1';
comment on column at_ida.arg2 is 'Load argument 2';
comment on column at_ida.arg3 is 'Load argument 3';
comment on column at_ida.arg4 is 'Load argument 4';
comment on column at_ida.arg5 is 'Load argument 5';

create table at_ida_lines (
    iload number(9) not null,
    iline number(9) not null,
    istat number(1) default 0 not null,
    ierrm varchar2(4000),
    c1 varchar2(4000),
    c2 varchar2(4000),
    c3 varchar2(4000),
    c4 varchar2(4000),
    c5 varchar2(4000),
    c6 varchar2(4000),
    c7 varchar2(4000),
    c8 varchar2(4000),
    c9 varchar2(4000),
    c10 varchar2(4000),
    c11 varchar2(4000),
    c12 varchar2(4000),
    c13 varchar2(4000),
    c14 varchar2(4000),
    c15 varchar2(4000),
    c16 varchar2(4000),
    c17 varchar2(4000),
    c18 varchar2(4000),
    c19 varchar2(4000),
    c20 varchar2(4000),
    c21 varchar2(4000),
    c22 varchar2(4000),
    c23 varchar2(4000),
    c24 varchar2(4000),
    c25 varchar2(4000),
    c26 varchar2(4000),
    c27 varchar2(4000),
    c28 varchar2(4000),
    c29 varchar2(4000),
    c30 varchar2(4000),
    c31 varchar2(4000),
    c32 varchar2(4000),
    c33 varchar2(4000),
    c34 varchar2(4000),
    c35 varchar2(4000),
    c36 varchar2(4000),
    c37 varchar2(4000),
    c38 varchar2(4000),
    c39 varchar2(4000),
    c40 varchar2(4000),
    c41 varchar2(4000),
    c42 varchar2(4000),
    c43 varchar2(4000),
    c44 varchar2(4000),
    c45 varchar2(4000),
    c46 varchar2(4000),
    c47 varchar2(4000),
    c48 varchar2(4000),
    c49 varchar2(4000),
    c50 varchar2(4000),
    c51 varchar2(4000),
    c52 varchar2(4000),
    c53 varchar2(4000),
    c54 varchar2(4000),
    c55 varchar2(4000),
    c56 varchar2(4000),
    c57 varchar2(4000),
    c58 varchar2(4000),
    c59 varchar2(4000),
    c60 varchar2(4000),
    c61 varchar2(4000),
    c62 varchar2(4000),
    c63 varchar2(4000),
    c64 varchar2(4000),
    c65 varchar2(4000),
    c66 varchar2(4000),
    c67 varchar2(4000),
    c68 varchar2(4000),
    c69 varchar2(4000),
    c70 varchar2(4000),
    c71 varchar2(4000),
    c72 varchar2(4000),
    c73 varchar2(4000),
    c74 varchar2(4000),
    c75 varchar2(4000),
    c76 varchar2(4000),
    c77 varchar2(4000),
    c78 varchar2(4000),
    c79 varchar2(4000),
    c80 varchar2(4000),
    c81 varchar2(4000),
    c82 varchar2(4000),
    c83 varchar2(4000),
    c84 varchar2(4000),
    c85 varchar2(4000),
    c86 varchar2(4000),
    c87 varchar2(4000),
    c88 varchar2(4000),
    c89 varchar2(4000),
    c90 varchar2(4000),
    c91 varchar2(4000),
    c92 varchar2(4000),
    c93 varchar2(4000),
    c94 varchar2(4000),
    c95 varchar2(4000),
    c96 varchar2(4000),
    c97 varchar2(4000),
    c98 varchar2(4000),
    c99 varchar2(4000),
    c100 varchar2(4000),
    primary key (iload, iline),
    foreign key (iload) references at_ida (iload) on delete cascade
);
comment on table at_ida_lines is 'General-purpose interface table, lines';
comment on column at_ida_lines.iload is 'Load id';
comment on column at_ida_lines.iline is 'Line number';
comment on column at_ida_lines.istat is 'Line status: 0 - pending, 1 - processed, 2 - error';
comment on column at_ida_lines.ierrm is 'Error message';
